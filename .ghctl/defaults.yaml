repository:
  private: false
  has_projects: false
  has_wiki: false
  allow_squash_merge: false
  allow_merge_commit: false
  allow_auto_merge: true
  delete_branch_on_merge: true
  allow_update_branch: true

rulesets:
  main:
    target: branch
    enforcement: active
    bypass_actors:
      - actor_type: RepositoryRole
        actor_id: 5 # Admin
      - actor_type: Integration
        actor_id: 927225 # @pbrisbin-automation
    conditions:
      ref_name:
        exclude: []
        include:
          - "~DEFAULT_BRANCH"
    rules:
      deletion: {}
      non_fast_forward: {}
      pull_request:
        parameters:
          allowed_merge_methods: [rebase]
          required_review_thread_resolution: true
      required_status_checks:
        parameters:
          required_status_checks:
            test:
              integration_id: 15368 # GitHub Actions
            restyled:
              integration_id: 15368 # GitHub Actions

variables:
  - name: AUTOMATION_APP_ID
    value: "927225"
